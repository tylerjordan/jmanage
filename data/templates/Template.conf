
set version {{VERSION}}
set system host-name {{HOSTNAME}}
set system auto-snapshot
set system authentication-order tacplus
set system authentication-order password
set system root-authentication encrypted-password "{{ENCPASS}}"
set system commit synchronize
set system name-server 10.95.138.67
set system tacplus-server 10.159.176.233 secret "{{TACSECRET}}"
set system tacplus-server 10.159.176.237 secret "{{TACSECRET}}"
set system tacplus-server 10.16.93.228 secret "{{TACSECRET}}"
set system tacplus-server 10.16.93.230 secret "{{TACSECRET}}"
set system tacplus-server 10.159.176.233 source-address {{IPV4}}
set system tacplus-server 10.159.176.237 source-address {{IPV4}}
set system tacplus-server 10.16.93.228 source-address {{IPV4}}
set system tacplus-server 10.16.93.230 source-address {{IPV4}}
set system accounting events login
set system accounting events change-log
set system accounting events interactive-commands
set system accounting destination tacplus server 10.159.176.233
set system accounting destination tacplus server 10.159.176.237
set system accounting destination tacplus server 10.16.93.228
set system accounting destination tacplus server 10.16.93.230
set system login announcement "  {{HOSTNAME}} - {{CITY}}, {{STATE}}{{TEXT}}"
set system login message "{{TEXT}}Revision {{REV}}"
set system login class cbpnoc idle-timeout 20
set system login class cbpnoc permissions all
set system login user dhsnoc uid 2000
set system login user dhsnoc class super-user
set system login user dhsnoc authentication encrypted-password "{{ENCPASS}}"
set system login user remote full-name "All Tacacs users"
set system login user remote uid 2001
set system login user remote class cbpnoc
set system services ssh protocol-version v2
set system services ssh connection-limit 10
set system services ssh root-login deny
set system services netconf ssh
set system syslog user * any emergency
set system syslog host 10.162.103.121 source-address {{IPV4}}
set system syslog host 10.159.204.184 any notice
set system syslog file messages amy notice
set system syslog file messages authorization info
set system syslog file interactive-commands interactive-commands any
set system time-zone UTC
set system ntp server 10.5.248.4
set system ntp server 10.5.248.5
set system ntp source-address {{IPV4}}

set chassis alarm management-ethernet link-down ignore
set interfaces lo0 unit 119 description "Remote Management Interface"
set interfaces lo0 unit 119 family inet address {{IPV4ANDMASK}}
set interfaces lo0 unit 0 family inet filter input protect-re
set routing-options static route 0.0.0.0/0 next-hop {{IPV4}}
set protocols lldp interface all
set protocols lldp management-address {{IPV4}}
set protocols lldp-med interface all
set protocols igmp-snooping vlan all

set snmp location "{{TEXT}}-{{CITY}},{{STATE}}"
set snmp location "{{TEXT}}"
set snmp description "{{TEXT}}"
set snmp v3 usm local-engine user DHS-USER-RW authentication-sha authentication-key "{{SNMPSECRET}}"
set snmp v3 usm local-engine user DHS-USER-RW privacy-aes128 privacy-key "{{SNMPSECRET}}"
set snmp v3 usm local-engine user DHS-USER-RO authentication-sha authentication-key "{{SNMPSECRET}}"
set snmp v3 usm local-engine user DHS-USER-RO privacy-aes128 privacy-key "{{SNMPSECRET}}"
set snmp v3 vacm security-to-group security-model usm security-name DHS-USER-RW group DHS-GROUP-RW
set snmp v3 vacm security-to-group security-model usm security-name DHS-USER-RO group DHS-GROUP-RO
set snmp v3 vacm access group DHS-GROUP-RW default-context-prefix security-model usm security-level privacy read-view DHS-SNMP-VIEW
set snmp v3 vacm access group DHS-GROUP-RW default-context-prefix security-model usm security-level privacy write-view DHS-SNMP-VIEW
set snmp v3 vacm access group DHS-GROUP-RW default-context-prefix security-model usm security-level privacy notify-view DHS-SNMP-VIEW
set snmp v3 vacm access group DHS-GROUP-RO default-context-prefix security-model usm security-level privacy read-view DHS-SNMP-VIEW
set snmp v3 vacm access group DHS-GROUP-RO default-context-prefix security-model usm security-level privacy notify-view DHS-SNMP-VIEW
set snmp v3 target-address NetCollector1 address 10.159.204.114
set snmp v3 target-address NetCollector1 tag-list CHASSIS-TRAP-RECEIVERS
set snmp v3 target-address NetCollector1 address-mask 255.255.255.0
set snmp v3 target-address NetCollector1 target-parameters TRAP-PARAMS
set snmp v3 target-address NetCollector3 address 10.159.204.154
set snmp v3 target-address NetCollector3 tag-list CHASSIS-TRAP-RECEIVERS
set snmp v3 target-address NetCollector3 address-mask 255.255.255.0
set snmp v3 target-address NetCollector3 target-parameters TRAP-PARAMS
set snmp v3 target-parameters TRAP-PARAMS parameters message-processing-model v3
set snmp v3 target-parameters TRAP-PARAMS parameters security-model usm
set snmp v3 target-parameters TRAP-PARAMS parameters security-level privacy
set snmp v3 target-parameters TRAP-PARAMS parameters security-name DHS-USER-RO
set snmp v3 target-parameters TRAP-PARAMS notify-filter CHASSIS-TRAPS
set snmp v3 notify CHASSIS-NOTIFICATION-LIST type trap
set snmp v3 notify CHASSIS-NOTIFICATION-LIST tag CHASSIS-TRAP-RECEIVERS
set snmp v3 notify-filter CHASSIS-TRAPS oid jnxChassisTraps include
set snmp v3 notify-filter CHASSIS-TRAPS oid jnxChassisOKTraps include
set snmp view DHS-SNMP-VIEW oid jnxBoxAnatomy include
set snmp view DHS-SNMP-VIEW oid snmpMIBObjects include
set snmp view DHS-SNMP-VIEW oid system include
set snmp view DHS-SNMP-VIEW oid iso

set policy-options prefix-list router-ipv4 apply-path "interfaces <*> unit <*> family inet address <*>"
set policy-options prefix-list ospf 224.0.0.5/32
set policy-options prefix-list ospf 224.0.0.6/32
set policy-options prefix-list vrrp 224.0.0.18/32
set policy-options prefix-list multicast-all-routers 224.0.0.2/32
set policy-options prefix-list tacacs-servers apply-path "system tacplus-server <*>"
set policy-options prefix-list ntp-servers apply-path "system ntp server <*>"
set policy-options prefix-list ntp-servers apply-path "system ntp server <*>"
set policy-options prefix-list dns-servers apply-path "system name-server <*>"
set policy-options prefix-list allowed-subnets-ssh 10.5.87.9/32
set policy-options prefix-list allowed-subnets-ssh 10.159.0.0/16
set policy-options prefix-list allowed-subnets-ssh 10.162.102.0/24
set policy-options prefix-list allowed-subnets-ssh 10.20.128.0/17
set policy-options prefix-list allowed-subnets-ssh 10.32.128.0/17
set policy-options prefix-list allowed-subnets-ssh 10.233.0.0/18
set policy-options prefix-list allowed-subnets-ssh 10.162.208.0/21
set policy-options prefix-list allowed-subnets-ssh 10.228.100.0/24
set policy-options prefix-list allowed-subnets-ssh apply-path "protocols ospf area <*> area-range <*>"
set policy-options prefix-list allowed-subnets-snmp 10.162.105.30/32
set policy-options prefix-list allowed-subnets-snmp 10.162.105.31/32
set policy-options prefix-list allowed-subnets-snmp 10.162.105.32/32
set policy-options prefix-list allowed-subnets-snmp 10.106.105.33/32
set policy-options prefix-list allowed-subnets-snmp 10.106.105.35/32
set policy-options prefix-list allowed-subnets-snmp 10.106.105.36/32
set policy-options prefix-list allowed-subnets-snmp 10.159.152.94/32
set policy-options prefix-list allowed-subnets-snmp 10.159.176.81/32
set policy-options prefix-list allowed-subnets-snmp 10.159.176.82/32
set policy-options prefix-list allowed-subnets-snmp 10.159.176.83/32
set policy-options prefix-list allowed-subnets-snmp 10.159.176.84/32
set policy-options prefix-list allowed-subnets-snmp 10.159.176.216/32
set policy-options prefix-list allowed-subnets-snmp 10.159.176.217/32
set policy-options prefix-list allowed-subnets-snmp 10.159.176.218/32
set policy-options prefix-list allowed-subnets-snmp 10.159.176.219/32
set policy-options prefix-list allowed-subnets-snmp 10.159.204.0/24
set policy-options prefix-list allowed-subnets-snmp 10.159.176.13/32

set firewall family inet filter protect-re term accept-ospf apply-flags omit
set firewall family inet filter protect-re term accept-ospf from source-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-ospf from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-ospf from destination-prefix-list ospf
set firewall family inet filter protect-re term accept-ospf from protocol ospf
set firewall family inet filter protect-re term accept-ospf then count accept-ospf
set firewall family inet filter protect-re term accept-ospf then accept
set firewall family inet filter protect-re term accept-vrrp apply-flags omit
set firewall family inet filter protect-re term accept-vrrp from source-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-vrrp from destination-prefix-list vrrp
set firewall family inet filter protect-re term accept-vrrp from protocol vrrp
set firewall family inet filter protect-re term accept-vrrp from protocol ah
set firewall family inet filter protect-re term accept-vrrp then count accept-vrrp
set firewall family inet filter protect-re term accept-vrrp then accept
set firewall family inet filter protect-re term no-icmp-fragments apply-flags omit
set firewall family inet filter protect-re term no-icmp-fragments from is-fragment
set firewall family inet filter protect-re term no-icmp-fragments from protocol icmp
set firewall family inet filter protect-re term no-icmp-fragments then count no-icmp-fragments
set firewall family inet filter protect-re term no-icmp-fragments then log
set firewall family inet filter protect-re term no-icmp-fragments then discard
set firewall family inet filter protect-re term accept-icmp apply-flags omit
set firewall family inet filter protect-re term accept-icmp from protocol icmp
set firewall family inet filter protect-re term accept-icmp from ttl 0
set firewall family inet filter protect-re term accept-icmp from ttl 2-255
set firewall family inet filter protect-re term accept-icmp from icmp-type echo-reply
set firewall family inet filter protect-re term accept-icmp from icmp-type echo-request
set firewall family inet filter protect-re term accept-icmp from icmp-type time-exceeded
set firewall family inet filter protect-re term accept-icmp from icmp-type unreachable
set firewall family inet filter protect-re term accept-icmp from icmp-type source-quench
set firewall family inet filter protect-re term accept-icmp from icmp-type router-advertisement
set firewall family inet filter protect-re term accept-icmp from icmp-type parameter-problem
set firewall family inet filter protect-re term accept-icmp then policer management-5m
set firewall family inet filter protect-re term accept-icmp then count accept-icmp
set firewall family inet filter protect-re term accept-icmp then accept
set firewall family inet filter protect-re term accept-ssh apply-flags omit
set firewall family inet filter protect-re term accept-ssh from source-prefix-list allowed-subnets-ssh
set firewall family inet filter protect-re term accept-ssh from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-ssh from protocol tcp
set firewall family inet filter protect-re term accept-ssh from destination-port ssh
set firewall family inet filter protect-re term accept-ssh then count accept-ssh
set firewall family inet filter protect-re term accept-ssh then accept
set firewall family inet filter protect-re term accept-snmp apply-flags omit
set firewall family inet filter protect-re term accept-snmp from source-prefix-list allowed-subnets-snmp
set firewall family inet filter protect-re term accept-snmp from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-snmp from protocol udp
set firewall family inet filter protect-re term accept-snmp from destination-port snmp
set firewall family inet filter protect-re term accept-snmp then policer management-5m
set firewall family inet filter protect-re term accept-snmp then count accept-snmp
set firewall family inet filter protect-re term accept-snmp then accept
set firewall family inet filter protect-re term accept-ntp apply-flags omit
set firewall family inet filter protect-re term accept-ntp from source-prefix-list ntp-servers
set firewall family inet filter protect-re term accept-ntp from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-ntp from protocol udp
set firewall family inet filter protect-re term accept-ntp from destination-port ntp
set firewall family inet filter protect-re term accept-ntp then policer management-1m
set firewall family inet filter protect-re term accept-ntp then count accept-ntp
set firewall family inet filter protect-re term accept-ntp then accept
set firewall family inet filter protect-re term accept-traceroute-udp apply-flags omit
set firewall family inet filter protect-re term accept-traceroute-udp from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-traceroute-udp from protocol udp
set firewall family inet filter protect-re term accept-traceroute-udp from ttl 1
set firewall family inet filter protect-re term accept-traceroute-udp from destination-port 33435-33450
set firewall family inet filter protect-re term accept-traceroute-udp then policer management-1m
set firewall family inet filter protect-re term accept-traceroute-udp then count accept-traceroute-udp
set firewall family inet filter protect-re term accept-traceroute-udp then accept
set firewall family inet filter protect-re term accept-traceroute-icmp apply-flags omit
set firewall family inet filter protect-re term accept-traceroute-icmp from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-traceroute-icmp from protocol icmp
set firewall family inet filter protect-re term accept-traceroute-icmp from ttl 1
set firewall family inet filter protect-re term accept-traceroute-icmp from icmp-type echo-request
set firewall family inet filter protect-re term accept-traceroute-icmp from icmp-type timestamp
set firewall family inet filter protect-re term accept-traceroute-icmp from icmp-type time-exceeded
set firewall family inet filter protect-re term accept-traceroute-icmp then policer management-1m
set firewall family inet filter protect-re term accept-traceroute-icmp then count accept-traceroute-icmp
set firewall family inet filter protect-re term accept-traceroute-icmp then accept
set firewall family inet filter protect-re term accept-traceroute-tcp apply-flags omit
set firewall family inet filter protect-re term accept-traceroute-tcp from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-traceroute-tcp from protocol tcp
set firewall family inet filter protect-re term accept-traceroute-tcp from ttl 1
set firewall family inet filter protect-re term accept-traceroute-tcp then policer management-1m
set firewall family inet filter protect-re term accept-traceroute-tcp then count accept-traceroute-tcp
set firewall family inet filter protect-re term accept-traceroute-tcp then accept
set firewall family inet filter protect-re term accept-tacacs apply-flags omit
set firewall family inet filter protect-re term accept-tacacs from source-prefix-list tacacs-servers
set firewall family inet filter protect-re term accept-tacacs from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-tacacs from protocol tcp
set firewall family inet filter protect-re term accept-tacacs from protocol udp
set firewall family inet filter protect-re term accept-tacacs from source-port tacacs
set firewall family inet filter protect-re term accept-tacacs from source-port tacacs-ds
set firewall family inet filter protect-re term accept-tacacs from tcp-established
set firewall family inet filter protect-re term accept-tacacs then policer management-1m
set firewall family inet filter protect-re term accept-tacacs then count accept-tacacs
set firewall family inet filter protect-re term accept-tacacs then accept
set firewall family inet filter protect-re term accept-dns apply-flags omit
set firewall family inet filter protect-re term accept-dns from source-prefix-list dns-servers
set firewall family inet filter protect-re term accept-dns from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-dns from protocol udp
set firewall family inet filter protect-re term accept-dns from source-port 53
set firewall family inet filter protect-re term accept-dns then policer management-1m
set firewall family inet filter protect-re term accept-dns then count accept-dns
set firewall family inet filter protect-re term accept-dns then accept
set firewall family inet filter protect-re term accept-established-tcp-ssh apply-flags omit
set firewall family inet filter protect-re term accept-established-tcp-ssh from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-established-tcp-ssh from source-port ssh
set firewall family inet filter protect-re term accept-established-tcp-ssh from tcp-established
set firewall family inet filter protect-re term accept-established-tcp-ssh then count accept-established-tcp-ssh
set firewall family inet filter protect-re term accept-established-tcp-ssh then accept
set firewall family inet filter protect-re term accept-established-tcp-fetch apply-flags omit
set firewall family inet filter protect-re term accept-established-tcp-fetch from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-established-tcp-fetch from source-port http
set firewall family inet filter protect-re term accept-established-tcp-fetch from source-port https
set firewall family inet filter protect-re term accept-established-tcp-fetch from tcp-established
set firewall family inet filter protect-re term accept-established-tcp-fetch then policer management-5m
set firewall family inet filter protect-re term accept-established-tcp-fetch then count accept-established-tcp-fetch
set firewall family inet filter protect-re term accept-established-tcp-fetch then accept
set firewall family inet filter protect-re term accept-return-tcp apply-flags omit
set firewall family inet filter protect-re term accept-return-tcp from protocol tcp
set firewall family inet filter protect-re term accept-return-tcp from destination-port 1024-65535
set firewall family inet filter protect-re term accept-return-tcp then policer management-5m
set firewall family inet filter protect-re term accept-return-tcp then count accept-return-tcp
set firewall family inet filter protect-re term accept-return-tcp then accept
set firewall family inet filter protect-re term accept-established-udp-ephemeral apply-flags omit
set firewall family inet filter protect-re term accept-established-udp-ephemeral from destination-prefix-list router-ipv4
set firewall family inet filter protect-re term accept-established-udp-ephemeral from protocol udp
set firewall family inet filter protect-re term accept-established-udp-ephemeral from destination-port 49152-65535
set firewall family inet filter protect-re term accept-established-udp-ephemeral then policer management-5m
set firewall family inet filter protect-re term accept-established-udp-ephemeral then count accept-established-udp-ephemeral
set firewall family inet filter protect-re term accept-established-udp-ephemeral then accept
set firewall family inet filter protect-re term discard-ip-options apply-flags omit
set firewall family inet filter protect-re term discard-ip-options from ip-options any
set firewall family inet filter protect-re term discard-ip-options then count discard-ip-options
set firewall family inet filter protect-re term discard-ip-options then log
set firewall family inet filter protect-re term discard-ip-options then syslog
set firewall family inet filter protect-re term discard-ip-options then discard
set firewall family inet filter protect-re term discard-TTL_1-unknown apply-flags omit
set firewall family inet filter protect-re term discard-TTL_1-unknown from ttl 1
set firewall family inet filter protect-re term discard-TTL_1-unknown then count discard-all-TTL_1-unknown
set firewall family inet filter protect-re term discard-TTL_1-unknown then log
set firewall family inet filter protect-re term discard-TTL_1-unknown then syslog
set firewall family inet filter protect-re term discard-TTL_1-unknown then discard
set firewall family inet filter protect-re term discard-tcp apply-flags omit
set firewall family inet filter protect-re term discard-tcp from protocol tcp
set firewall family inet filter protect-re term discard-tcp then count discard-tcp
set firewall family inet filter protect-re term discard-tcp then log
set firewall family inet filter protect-re term discard-tcp then syslog
set firewall family inet filter protect-re term discard-tcp then discard
set firewall family inet filter protect-re term discard-netbios apply-flags omit
set firewall family inet filter protect-re term discard-netbios from protocol udp
set firewall family inet filter protect-re term discard-netbios from destination-port 137
set firewall family inet filter protect-re term discard-netbios then count discard-netbios
set firewall family inet filter protect-re term discard-netbios then log
set firewall family inet filter protect-re term discard-netbios then syslog
set firewall family inet filter protect-re term discard-netbios then discard
set firewall family inet filter protect-re term discard-udp apply-flags omit
set firewall family inet filter protect-re term discard-udp from protocol udp
set firewall family inet filter protect-re term discard-udp then count discard-udp
set firewall family inet filter protect-re term discard-udp then log
set firewall family inet filter protect-re term discard-udp then syslog
set firewall family inet filter protect-re term discard-udp then discard
set firewall family inet filter protect-re term discard-icmp apply-flags omit
set firewall family inet filter protect-re term discard-icmp from protocol icmp
set firewall family inet filter protect-re term discard-icmp then count discard-icmp
set firewall family inet filter protect-re term discard-icmp then log
set firewall family inet filter protect-re term discard-icmp then syslog
set firewall family inet filter protect-re term discard-icmp then discard
set firewall family inet filter protect-re term discard-unknown apply-flags omit
set firewall family inet filter protect-re term discard-unknown then count discard-unknown
set firewall family inet filter protect-re term discard-unknown then log
set firewall family inet filter protect-re term discard-unknown then syslog
set firewall family inet filter protect-re term discard-unknown then discard

set firewall policer management-1m apply-flags omit
set firewall policer management-1m if-exceeding bandwidth-limit 1m
set firewall policer management-1m if-exceeding burst-size-limit 625k
set firewall policer management-1m then discard
set firewall policer management-5m apply-flags omit
set firewall policer management-5m if-exceeding bandwidth-limit 5m
set firewall policer management-5m if-exceeding burst-size-limit 625k
set firewall policer management-5m then discard